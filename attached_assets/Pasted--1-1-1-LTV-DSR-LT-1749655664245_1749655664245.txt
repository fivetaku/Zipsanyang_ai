주택담보대출 정보와 아파트 단지 추천 알고리즘 보고서

1. 한국 주요 주택담보대출 제도 지식베이스 구축

1.1 주택담보대출 핵심 지표: LTV와 DSR 개요

담보인정비율(LTV): 주택 담보 가치 대비 최대 대출 가능 비율을 말합니다. 정부 규제에 따라 LTV 한도가 정해지며, 지역이나 구매자 특성에 따라 차등 적용됩니다. 예를 들어 규제지역 여부와 생애 최초 주택구매자 여부에 따라 다른 LTV 한도가 적용되어 왔습니다. 2022년 8월부터는 생애 첫 주택의 경우 주택 소재 지역이나 가격에 상관없이 LTV 80%까지 대출이 가능하고, 대출한도는 최대 6억원으로 완화되었습니다 ￼. (기존에는 투기지역 등 규제지역에서는 LTV 50~60%에 대출한도 4억원 제한이 있었습니다 ￼.) 일반 무주택자나 1주택자의 경우 현재 대부분 지역에서 LTV 70% 수준까지 허용되고 있으며, 1주택자가 규제지역에서 추가로 주택담보대출을 받을 때는 기존 주택 처분 기한이 6개월에서 2년으로 늘어나고 신규 주택에 반드시 전입해야 하는 의무가 폐지되는 등 규제가 다소 완화되었습니다 ￼. 다만 투기과열지구 등 일부 지역이나 고가주택의 경우는 정책 변화에 따라 LTV 한도가 달라질 수 있고, 생애최초 특별공급이나 정책모기지 이용 시 LTV 우대가 적용되기도 합니다.

총부채원리금상환비율(DSR): 차주의 총 금융부채에 대한 연간 원리금 상환액 비율을 의미하며, 대출 심사 시 차주의 소득 대비 부채상환 부담을 관리하기 위한 지표입니다. 은행권에서는 차주의 DSR이 40%를 넘지 않도록 대출한도를 제한하는 것이 원칙입니다 ￼. 예를 들어 연 소득이 1억원인 차주는 모든 대출의 연간 원리금 상환액 합계가 4천만원(1억의 40%) 이내가 되도록 신규 대출 한도가 산정됩니다 ￼. DSR 규제는 2022년 이후 단계적으로 강화되어, 현재는 총대출액 1억원을 초과하는 모든 차주에 대해 은행권 DSR 40% 규제가 사실상 적용되고 있습니다. 제2금융권(저축은행 등)의 경우 다소 완화된 DSR 50% 기준을 적용하지만, 2024년 7월 1일부터는 DSR 산정 시 스트레스 금리가 도입되어 대출 한도가 더욱 엄격해질 예정입니다 ￼.

스트레스 DSR(3단계): 2024년 7월부터 시행되는 새로운 DSR 산정 방식으로, 미래 금리인상 위험을 반영하기 위해 DSR 계산 시 가산 금리(스트레스 금리)를 적용하는 제도입니다 ￼. 기존에는 대출 심사 시점의 현재 금리로 DSR을 계산했지만, 스트레스 DSR 도입 후에는 과거 5년 내 최고 수준의 금리와 현재 금리 차이를 반영한 스트레스 금리(최소 1.5%p, 최대 3.0%p 사이)가 추가됩니다 ￼. 예를 들어 현재 대출금리가 5%이고 스트레스 금리가 1.5%로 책정되면, DSR 한도 산정에는 **금리 6.5%**를 적용하여 계산합니다 ￼. 이렇게 하면 예상 상환액이 증가하여 DSR 비율이 높아지므로, 동일한 소득이라도 대출한도는 줄어들게 됩니다 ￼. 3단계 스트레스 DSR 시행으로 모든 업권의 가계대출에 이 규제가 적용되며(적용 대상 거의 전 가계대출), 은행권 주택담보대출의 스트레스 금리는 기본 1.50%p로 정해졌습니다 ￼. 단, 서울·경기·인천을 제외한 지방 주택담보대출에는 2024년 말까지 한시적으로 이전 단계인 0.75%p의 스트레스 금리를 적용하여 완화하기로 하였습니다 ￼. (지방 부동산 시장의 부진을 감안한 유예 조치입니다.) 또한 변동금리 혼합형 대출 등에 대해서는 스트레스 금리 적용비율을 높여 순수 고정금리 대출을 유도하는 방침도 발표되었습니다 ￼.

1.2 주요 주택담보대출 상품별 정책 및 조건

① 보금자리론 (정책모기지): 보금자리론은 한국주택금융공사가 제공하는 장기 고정금리 정책 대출 상품으로, 소득 및 주택가격 요건을 충족하는 실수요자에게 비교적 낮은 금리로 자금을 공급합니다. 2023년 한시적으로 운영된 특례 보금자리론의 경우 기준 금리 인상기에도 주택 구입을 돕기 위해 요건을 완화하여 출시되었습니다. 특례 보금자리론은 가격 9억원 이하 주택에 대해 소득 제한 없이 신청할 수 있었고, 최대 5억원 한도 내에서 대출이 가능합니다 ￼ ￼. 기존 보금자리론의 소득 요건(부부합산 7천만원 이하)을 없앤 대신, 무주택자(신규 구입 목적)나 1주택자(기존대출 상환 또는 전세금 반환 목적)만 신청할 수 있도록 하여 투기 목적을 배제했습니다 ￼. 담보인정비율(LTV)은 최대 70%로 적용되나, 생애 최초 구입자에게는 LTV 80%까지 허용되며 DTI(총부채상환비율)도 60%까지 인정됩니다 ￼. (특례 보금자리론의 경우 DSR 규제를 별도로 적용하지 않고 DTI 60%로 운용하였습니다 ￼.) 상환 기간은 10년부터 최장 50년까지 선택할 수 있어 신혼부부나 청년층은 초장기 대출을 통해 월 상환 부담을 줄일 수 있습니다. 금리는 일반 시중은행 대출보다 낮고 고정금리로 제공되는데, 2023년 당시 연 4%대 중후반(4.65~5.05%) 수준이었으며 사회적 배려층, 저소득 청년 등에 대해서는 최대 0.9%p까지 금리 할인도 제공하여 최저 3%대 후반까지 낮출 수 있었습니다 ￼. 보금자리론은 중도상환수수료가 없고 고정금리이므로 금리 상승기에도 안정적입니다. 다만 최대 한도(5억원)나 적용 금리가 정책에 따라 수시로 변동될 수 있고, 대출 신청 시 대출심사에 시간이 다소 소요되는 편입니다. (참고: 2023년 특례 보금자리론은 한시 상품이었고, 이후에는 일반 보금자리론으로 환원되면서 소득요건 등이 부활하거나 금리 조건이 조정될 수 있습니다.)

② 시중은행 일반 주택담보대출: 일반은행에서 취급하는 주택담보대출은 보통 변동금리 또는 혼합금리로 제공되며, 금리는 시장금리에 연동되어 수시로 변동됩니다. 대출한도는 앞서 설명한 LTV 규제와 DSR 규제 내에서 결정됩니다. 예컨대 서울 등 투기과열지구 내 주택을 구입하는 무주택자의 경우 LTV 70%까지, 생애 최초라면 80%까지 가능하나 최대 6억원 한도가 적용됩니다 ￼. 차주의 소득이 충분치 않다면 LTV 한도까지 못 빌리고 DSR 40% 규제선에서 대출금액이 결정됩니다 ￼. 일반 주담대는 30년 만기로 많이 이용되며, 연소득과 부채상황에 따라 원리금균등, 원금만기일시 상환 등의 조건을 선택합니다. 2025년 현재 시중은행 주택담보대출 금리는 대략 연 3~5% 수준으로, 고정금리형은 4%대 중반, 변동금리형은 3%대 후반까지 내려온 상태입니다 (기준금리 인하 영향). 다만 은행들은 가계대출 총량을 관리하기 위해 금리를 크게 내리지 않아 금리 인하폭은 제한적입니다 ￼. 스트레스 DSR 도입으로 은행권은 앞으로 대출 심사를 더욱 보수적으로 할 것이므로, 차주는 기대 가능한 대출한도가 축소될 수 있습니다. 한편 청년층 등에 대해서 일부 은행은 DSR 산정 시 장래소득 상승분을 반영해 완화된 한도를 제공하는 상품을 내놓기도 했습니다. 다주택자의 경우 투기지역에서 추가 대출이 원칙적으로 금지되었지만, 규제 완화로 2년 내 기존주택 처분 조건 하에 LTV 60% 수준까지 대출을 받을 길이 열려 있습니다 ￼. (이때도 DSR 40% 규제는 동일하게 적용됩니다.) 또한 기존대출을 금리 낮은 대출로 **대환(refinance)**할 때는 DSR 적용에 일시적 예외를 두어 기존 대출 한도 내에서 갈아탈 수 있도록 한시 조치가 시행 중입니다.

以上와 같이 보금자리론과 시중은행 대출은 대상, 한도, 금리 측면에서 차이가 있으므로, AI 챗봇은 사용자 상황에 맞춰 적절한 상품을 안내해야 합니다. 예를 들어 무주택자의 실거주 구입 상담 시 보금자리론 자격이 된다면 이를 우선 고려하도록 안내하고, 고소득자의 투자 목적 대출 시에는 시중은행 대출과 DSR 규제를 중심으로 설명하는 식입니다.

1.3 실거주 vs 갭투자 시나리오별 대출 활용

주택담보대출 규제와 상품은 구매 목적에 따라 적용 양상이 조금 달라집니다. 실거주 목적으로 무주택자가 첫 주택을 구입하는 경우, LTV 80% 우대와 보금자리론 같은 정책대출 이용이 핵심 수단입니다. 예를 들어 6억원 아파트를 처음 구입하는 신혼부부의 경우, 보금자리론을 통해 최대 4억8천만원(80%)까지 저렴한 고정금리 대출을 받고 1억2천만원을 자금으로 마련하는 방안을 생각해볼 수 있습니다. 소득이 충분하다면 시중은행 대출로도 LTV 80% 한도를 활용할 수 있습니다 ￼. 1주택자가 갈아타기 위해 대출을 받을 때는, 기존 주택담보대출이 있더라도 일시적으로 두 개의 담보대출을 허용받아 신규 주택 구입이 가능합니다 (2년 내 기존 주택 처분 조건) ￼. 이때 새로운 대출은 규제지역 기준 LTV 40~60% 수준으로 나오며, DSR 40% 한도 내에서 두 주택의 대출부담이 산정됩니다. 챗봇은 이러한 대출 규제 예외사항(일시적 2주택, 처분조건부 대출 등)도 인지하고 있어야 합니다.

갭투자 목적(전세 끼고 주택 구입)에서는 대출 활용 양상이 다소 다릅니다. 갭투자는 임차인의 전세보증금을 활용해 적은 자기자본으로 주택을 매입하는 투자 방식이므로, 매매가와 전세가의 차이(=갭) 만큼만 자금이 있으면 구매가 가능합니다. 예를 들어 매매가 10억, 전세가 8억인 아파트를 갭투자하려는 경우, 투자자는 약 2억원의 자기자본(+부대비용)만으로 매입 가능합니다. 이때 전세보증금 8억은 임차인이 거주하는 동안 매도인이 아닌 투자자가 승계받아 향후 임차인에게 돌려줄 채무가 되지만, 초기 매입시에는 마치 무이자 대출처럼 활용되는 것입니다. 갭투자 대출 전략으로는 우선 전세와의 갭을 자기자본으로 최대한 줄이는 것이 중요합니다. 전세가율(전세가/매매가)이 높은 집일수록 소액으로 구매할 수 있기 때문에 투자자들은 보통 전세가율이 70~80%에 달하는 아파트를 선호합니다. 만약 자기자본이 갭만큼 충분하지 않은 경우 추가 대출을 고려하게 됩니다. 이때 주택담보대출을 일으키면 담보여력이 나오지만 이미 세입자의 전세금이 있는 상태여서, 은행은 전세금을 선순위로 간주하고 남은 담보가치 내에서만 대출해줄 수 있습니다. 결국 은행 입장에서는 매매가 - 전세가를 담보로 보는 셈이므로, 사실상 LTV 규제는 갭에 대해서만 적용된다고 볼 수 있습니다. DSR도 당연히 적용되지만, 갭투자 시 필요한 대출금액은 비교적 적기 때문에 투자자의 소득이 일정 수준 이상이면 DSR 40% 한도에 여유가 있는 경우가 많습니다. 요약하면 갭투자자는 전세금을 최대한 활용하고, 부족한 갭 자금에 대해서만 대출을 받는 전략을 사용합니다. 예컨대 갭이 3억원인 물건을 매입하는데 현금 2억원만 있다면, 부족한 1억원은 신용대출이나 담보대출로 보충할 수 있습니다 (이때 추가대출 1억원의 연 상환액은 소득기준 DSR 40% 이내여야 함). 다만 다주택자가 추가 주택을 매입하는 경우에는 앞서 언급한 규제(처분조건 등)를 준수해야 하고, 전세를 안고 매입하더라도 원칙적으로 2주택 이상 보유자는 규제지역 신규 담보대출이 어려울 수 있음을 유의해야 합니다. (투자자 입장에서는 규제지역이 아닐 경우를 노리거나 법인 명의 등 우회수단을 쓰기도 하지만, 이는 정책 범위를 벗어나므로 여기서는 제외합니다.)

1.4 AI 상담을 위한 FAQ 형식 지식 구성 (예시)

AI 에이전트가 사용자 질의에 바로 답변할 수 있도록, 위 내용을 Q&A 형태로 구조화할 수 있습니다. 자주 예상되는 질문과 그에 대한 간략한 답변 예시는 다음과 같습니다:
	•	Q1. DSR이 무엇인가요? 규제는 어떻게 되나요?
A1. DSR(총부채원리금상환비율)은 연소득 대비 모든 대출의 연간 상환액 비율입니다. 현재 은행권에서는 DSR 40%를 넘지 않도록 대출 한도를 제한하고 있어요 ￼. 쉽게 말해 연봉이 1억 원이면 1년에 갚을 원금+이자가 4천만 원 이하여야 한다는 뜻입니다. DSR 규제 덕분에 과도한 대출을 방지하지만, 소득이 낮으면 대출한도도 많이 줄어드는 효과가 있습니다. 또 2024년 7월부터는 스트레스 DSR이라는 제도가 도입되어, 대출 심사 시 금리를 일부러 높게 가정하고 한도를 더 줄이는 방식이 시행될 예정입니다 ￼. 금리가 오를 위험까지 대비하려는 조치입니다.
	•	Q2. LTV는 무엇이고, 대출 한도랑 무슨 관계인가요?
A2. LTV(담보인정비율)은 담보가치 대비 대출 비율입니다. 예를 들어 LTV 70%이면 10억 원짜리 집에는 최대 7억 원까지 대출이 나온다는 뜻이죠. 정부 규제로 LTV 비율이 정해지는데, 무주택자가 처음 집 살 때는 **지역과 상관없이 LTV 80%**까지 완화되었고 대출한도 6억 원까지 받을 수 있어요 ￼. (과거엔 지역별로 50~70%로 달랐습니다.) 다만 80%를 계산해도 6억 원을 넘으면 안 되고, 투기지역에 집이 두 채 이상이면 담보대출이 거의 안 나오는 등 예외가 있습니다. LTV는 담보기준 한도이고, 실제 대출은 차주의 소득에 따른 DSR 규제도 함께 적용돼서 더 적게 나올 수도 있습니다.
	•	Q3. 제가 받을 수 있는 주택담보대출 액수를 알고 싶어요.
A3. 정확한 한도는 은행 상담을 거쳐야 하지만, 기본은 본인 소득으로 DSR 40% 한도 내에서 결정됩니다. 사용자의 연봉과 기존 부채를 알려주시면 계산해볼 수 있는데요. 예를 들어 연봉 5천만 원에 다른 부채가 없다면, DSR 40% 기준으로 1년에 갚을 원리금이 2천만 원까지 허용돼요. 금리 4%, 30년 기준으로 보면 약 3억 3천만 원 정도 대출이 가능합니다. 하지만 이 금액이 담보 주택 가격의 70% 이내여야 해요. 만약 구입하려는 집 값이 5억 원이라면 70%인 3억5천만 원까지 대출 가능하지만, DSR상 3억3천만 수준이 한계이므로 실제론 3억3천만 원쯤이 한도가 되겠습니다. (참고: 2024년 하반기부턴 스트레스 DSR로 한도가 5~10% 더 줄어들 수 있어요.)
	•	Q4. 보금자리론이랑 은행 일반 대출은 뭐가 다른가요?
A4. 보금자리론은 정부에서 지원하는 고정금리 장기 대출이고, 일반 주담대는 시중은행이 취급하는 시장금리 대출입니다. 보금자리론은 조건이 맞으면 금리가 비교적 낮고 고정되어 안심이지만, 소득이나 집값에 제한이 있고 최대 5억 원까지밖에 안 나옵니다 ￼. 예를 들어 9억 이하 집을 살 때만 가능하고 무주택자여야 하죠. 반면 일반 주담대는 제약은 덜하지만 금리가 변동될 수 있고 은행 정책에 따라 한도가 결정됩니다. 상황에 따라 둘 중 유리한 걸 선택하시면 되고, 필요하다면 혼용도 가능합니다. AI 상담을 통해 자격 조건을 검토해보고 가장 유리한 대출을 추천해드릴 수 있습니다.
	•	Q5. 현재 전세 안고 집을 살까 하는데, 대출이 필요할까요?
A5. 갭투자를 말씀하시는군요. 전세가 낀 집은 매매가에서 전세보증금 뺀 갭 금액만 준비하면 되니 대출이 적게 들 수 있어요. 예를 들어 매매가 10억, 전세 8억인 집은 2억만 있으면 매입 가능합니다. 가지고 계신 자금이 갭보다 많으면 대출이 아예 필요 없을 수도 있습니다. 부족하면 그 차액만큼 대출을 쓰면 되는데, 담보대출은 세입자 전세금이 있는 경우 많이 못 나오니 보통은 신용대출 등으로 보충합니다. 다만 나중에 세입자 퇴거 시 돌려줄 8억원을 마련해야 하는 점을 유념해야 해요 (보통은 그때 새 대출을 받거나 집을 팔아서 해결합니다). 그리고 2주택 이상이면 규제가 많으니 갭투자는 무주택 또는 1주택 상태에서 진행하시는 게 대출 면에서 유리합니다.

(以上의 FAQ는 이해를 돕기 위한 예시이며, 실제 AI 에이전트 답변은 질문 맥락과 최신 정책에 따라 조정될 것입니다.)

⸻

2. 아파트 단지 추천 알고리즘 개발

이 섹션에서는 사용자 맞춤형 아파트 단지 추천 알고리즘의 로직을 상세히 설명합니다. 알고리즘은 사용자의 재정 상태와 구매 목적(실거주 또는 갭투자), 선호 지역 등을 입력으로 받아, 적절한 예산 범위를 계산하고, 수집된 아파트 데이터에서 최적의 후보 단지를 선별 및 정렬하여 추천 목록을 생성합니다. 특히 지역별 시장 회복률에 기반한 “급지” 분류 개념과 전세-매매 가격차(갭) 고려를 통해, 실거주자와 투자자 각각에게 최적화된 추천을 제공하는 것이 특징입니다.

2.1 입력 변수 및 예산 산정 방식

사용자 입력 변수:
	•	보유 현금: 주택 구입에 직접 투입 가능한 자기자금 (예: 2억 원).
	•	연 소득(또는 월 소득): 대출 상환 능력 산정에 사용 (예: 연봉 8천만 원).
	•	기존 부채: 신용대출, 자동차할부 등 기타 부채 정보 (DSR 계산에 반영).
	•	구매 목적: 실거주인지 갭투자인지 여부.
	•	希望 지역: 선호하는 지역 범위 (예: 서울 전체, 또는 특정 구/동).
	•	주택 선호 조건: 방수나 평형, 구축/신축 여부 등 추가 선호 (데이터 필터링에 활용).

예산 계산 로직:
	1.	DSR 기반 대출한도 계산: 사용자 소득과 입력된 부채를 토대로 최대 **연간 상환가능액 = 소득×40% (DSR)**을 구하고, 이를 기준으로 대출 가능액 L을 추정합니다. (금리는 보수적으로 스트레스 DSR 금리 수준 적용 가능.) 예를 들어 연소득 8천만 원, 부채 없을 경우 연 상환가능액 3,200만 원 → 30년 만기 5% 기준 약 5억 원 내외 대출 가능.
	2.	LTV 기반 한도 확인: 사용자가 무주택자이고 규제지역 기준 LTV 70%라고 가정하면, 자기자금 C으로 살 수 있는 최대 가격은 C + 대출가능액. 단, 이때 대출가능액이 주택가격의 LTV 한도 이내여야 실제 집값을 충당할 수 있습니다. 예컨대 자기자금 3억에 대출한도 5억이면 이론상 8억 집까지 구매 가능하지만, 8억의 70%는 5.6억으로 LTV 한도가 5.6억이므로 5억 대출은 LTV 이내라 OK입니다. 만약 계산된 대출액이 LTV 한도를 초과하면, 초과분만큼 추가 자금이 필요합니다. 알고리즘은 이를 감안하여 현실적인 최대 구매가능 금액을 산출합니다. (생애 최초 등으로 LTV 80% 적용 시에는 별도로 최대 6억 한도도 고려합니다.)
	3.	구매 목적별 예산 적용:
	•	실거주용: 위에서 구한 최대 구매 가능 금액을 예산으로 설정합니다. 예를 들어 C=3억, L=5억일 때 8억 원이 예산 상한이 됩니다. 이 범위 내의 매물을 찾습니다.
	•	갭투자용: 갭투자의 경우 전세보증금이 자금조달에 활용되므로, 예산은 자기자금 + 대출가능액이 매매가에서 전세금을 뺀 금액(갭)에 대응하면 됩니다. 알고리즘은 후보 아파트의 갭 = 매매가 – 전세가를 계산하고, 갭 ≤ C + L인 경우에만 구매 가능하다고 봅니다. 예를 들어 매매가 10억, 전세 7억인 경우 갭 3억인데, 사용자가 현금 2억+대출 1억으로 충당 가능하면 예산 통과입니다. (대출 1억은 DSR 한도 내인지 별도 확인.) 이렇게 함으로써 사용자 자금과 대출로 감당할 수 있는 갭만 있는 매물을 선별합니다.
※ 참고: 갭투자 시 담보대출 가능액은 전세금이 차지하지 않은 부분에 한정되므로, 보수적으로 대출가능액 L’ = min(L, (매매가-전세가)×LTV) 조건을 함께 고려할 수 있습니다. 그러나 전세가율이 높을수록 담보대출 여지는 작아지므로 대부분 LTV보다는 DSR이나 자기자본이 제한 요소입니다.

2.2 후보 단지 필터링 기준

예산이 설정되면, 다음 단계는 방대한 아파트 목록을 걸러내어 후보를 추리는 작업입니다. 필터 기준은 다음과 같습니다:
	•	매매가 필터: 실거주의 경우 아파트 매매가격 ≤ 예산 상한인 단지를 선택합니다. 갭투자의 경우 **갭 금액 ≤ (자기자본+대출가능액)**인 단지만 선택합니다. 이때 매매가 자체도 너무 높으면 전세가율이 높더라도 절대 갭이 커질 수 있으므로, 필요시 매매가 상한도 적용합니다 (예: 앞서 계산한 실거주 예산 8억이 넘는 매물은 갭투자라도 제외).
	•	지역 필터: 사용자가 선호 지역을 지정했다면 해당 시/구/동 범위의 단지만 고려합니다. 예를 들어 “서울 전체”이면 서울시 데이터 모두, “강남구”이면 강남구 내 단지들로 제한합니다. 지역 필터는 사용자의 입지 선호를 반영하는 중요한 요소입니다. (만약 지역 미지정 시에는 서울 전체 대상으로 하되, 알고리즘이 자동으로 상급지 위주로 선별할 수 있습니다.)
	•	면적/세대수 등 물리적 조건: 사용자의 희망 전용면적(예: 84㎡ 이상)이나 방/욕실 개수, 세대 수 규모 등의 선호 조건이 있다면 해당 조건을 충족하는 단지만 남깁니다. 예를 들어 가족 실거주 희망이면 방 3개 이상 있는 30평대 위주로 필터링할 수 있습니다. (제공된 데이터에서는 exclusiveArea로 평형대, roomBath로 방/욕실 정보를 활용할 수 있음.)
	•	시장활동성 필터: 현재 매물 유무도 필터링합니다. 매매 매물이 1건 이상 있는 단지만 추천 목록에 넣습니다. (데이터 필드 saleCount로 확인.) 매물이 전혀 없는 단지는 실제 구매가 불가능하므로 제외합니다. 또한 필요하면 최근 거래량이나 실거래 상승세 등 지표를 사용해 너무 거래 한산한 곳은 배제할 수도 있습니다.
	•	전세가율/임대조건: 갭투자의 경우 전세를 끼고 살 것이 전제이므로, 해당 단지의 전세가 존재 여부와 전세가율도 고려됩니다. 예를 들어 전세가 아예 드물거나 전세가율이 30% 미만으로 낮은 고가단지는 갭투자 매력이 떨어지므로 후보에서 제외할 수 있습니다. 반대로 전세가율이 지나치게 100%에 가깝다면 (예: 일부 오피스텔의 보증금=매매가) 매매가 자체가 낮은 특수사례일 수 있으므로 별도 검토합니다.

以上의 필터를 거치면, 사용자 조건에 부합하는 후보 단지 리스트가 얻어집니다. 이 리스트는 여전히 다수일 수 있으므로, 다음 단계에서 정렬/우선순위 판정을 하게 됩니다.

2.3 지역 급지 및 시장 회복률에 따른 등급 판단

**“급지”**란 본 알고리즘에서 입지 및 시장동향에 따른 지역의 등급을 의미합니다. 급지를 판단하기 위해 지역별/단지별 가격 회복률 지표를 활용합니다. 우선 구(區) 단위의 전고점 대비 가격 회복률을 계산합니다. 이는 해당 구의 평균 아파트 시세가 직전 부동산 경기 고점 대비 몇 % 수준인지 나타냅니다. 예를 들어 어느 구의 평균 매매가가 과거 최고점 대비 95% 수준까지 회복되었다면 그 구는 **회복률 95%**로서 비교적 시장이 살아난 지역으로 평가할 수 있습니다. 반면 다른 구가 아직 80% 수준이라면 **회복률 80%**로 침체된 편이라 볼 수 있습니다. 일반적으로 강남권이나 인기 지역일수록 하락기 이후 가장 먼저 회복되어 회복률이 높게 나오고, 외곽 저가 지역일수록 회복률이 낮은 경향이 있습니다 ￼. 알고리즘은 이러한 회복률을 기준으로 지역을 예를 들어 1급지(회복률 상위 그룹), 2급지(중간), 3급지(회복률 하위 그룹) 등으로 분류할 수 있습니다.

다음으로 단지별 전고점 대비 회복률을 봅니다. 이는 개별 아파트 단지의 현재 시세가 그 단지의 최고가 대비 얼마나 회복되었는지를 의미합니다 (changeFromPeak 데이터를 활용하여 계산). 어떤 단지는 이미 신고가 경신하여 이전 고점 대비 100% 이상에 거래되는 곳도 있고, 어떤 단지는 아직 20~30% 낮은 가격에 머무르기도 합니다. 단지별 회복률이 낮다는 것은 상대적으로 저평가되어 있을 가능성을 시사합니다. 물론 단지별로 차이가 나는 데에는 입지나 연식, 학군 등의 차이가 반영된 것이기도 합니다.

급지 분류와 회복률 지표 활용 방식:
	•	투자 관점: 지역 급지와 단지 저평가도를 모두 고려하여 투자 매력을 판단합니다. 예를 들어 **“1급지 지역에 있으나 회복률 낮은 단지”**는 좋은 입지임에도 아직 가격이 덜 오른 곳일 수 있어 투자 유망 후보로 볼 수 있습니다. 반대로 **“3급지 지역에 회복률도 낮은 단지”**는 가격이 저렴하나 시장 관심이 낮은 지역이므로 리스크가 높습니다. 알고리즘은 일반적으로 상급지일수록 우선 검토하되, 동일 급지 내에서는 회복률이 낮을수록(저평가) 우선하도록 설계합니다. 이렇게 하면 유망 지역 중 가격 메리트 있는 물건을 우선 추천하게 됩니다.
	•	실거주 관점: 실거주자의 경우 투자만큼의 수익 추구가 절대적이지는 않지만, 그래도 입지 선호도와 가격 안정성은 중요한 요소입니다. 따라서 알고리즘은 사용자가 선호한 지역(또는 생활권)에 속하는 단지들을 중심으로 추천하되, 그중 상대적으로 가격 메리트가 있는 순서로 정렬하여 제시합니다. 예를 들어 동일한 학군지 아파트라면 더 떨어진 가격에 거래되는 단지를 먼저 추천하여 향후 시세 상승 여력이 있도록 돕습니다. 다만 실거주에서는 학군/편의시설 등 정성적 요인이 더 중요할 수 있으므로, 최종 제안 시 **‘추천 이유’**에 가격지표와 함께 해당 단지의 장점(학교, 교통 등)을 함께 언급합니다.

급지 및 회복률 데이터는 알고리즘의 정렬 단계에서 가중치로 활용됩니다. 정책적으로는 가령: 1순위 정렬 키: 지역급지 (1급지→2급지→3급지), 2순위: 단지 회복률 (오름차순, 낮은 회복률 먼저), 3순위: 기타 선호도 점수 등의 우선순위를 정해 정렬합니다. 이를테면 1급지 내 저평가 단지들이 리스트 상단에 오르고, 그 다음 1급지 내 거의 회복된 단지, 이어 2급지 단지… 이런 식입니다. (만약 사용자 지역 제한이 없다면 이 방식이 유효하고, 특정 지역으로 필터링된 경우 해당 지역 내에서만 회복률을 기준으로 정렬합니다.)

2.4 추천 후보 정렬 로직 및 흐름

위의 요소들을 종합하여, 추천 목록의 우선순위를 결정하는 로직은 다음과 같이 요약될 수 있습니다:
	1.	예산 및 대출한도 산정 – (공통) 사용자 보유자금과 소득으로 DSR 기반 대출가능액을 계산하고, LTV 제약을 감안한 현실적 예산 상한을 결정합니다. (갭투자 시 전세보증금 활용을 고려하여 예산을 재산정.)
	2.	필터링 – 예산 범위 내의 아파트들을 지역, 면적, 매물존재 여부 등의 조건으로 필터링합니다. (실거주용은 매매가 기준, 갭투자용은 갭 기준으로 필터링.)
	3.	급지 평가 – 후보들의 위치한 구별 회복률을 조회하고 급지 등급을 부여합니다 (예: A구 – 1급지, B구 – 2급지 등).
	4.	저평가도 계산 – 후보 각각의 전고점 대비 가격변동률(회복률)을 계산합니다. 100%에 못 미치는 경우 그 갭이 큰 것일수록 저평가로 간주합니다. (필요시 100%를 초과한 경우도 기록하여 과열 여부 파악.)
	5.	정렬 – 정렬 키를 다중으로 적용합니다: ①급지 등급(상위 등급 우선) → ②단지 회복률(낮은 값 우선) → ③기타 (예: 매매가 상승률, 전세가율, 세대수 등).
	•	실거주: 사용자 지정 지역 내에서 위 정렬을 적용. 만약 지역이 광범위하다면 기본적으로 상급지 선호를 반영하지만, 사용자 선호(직주근접 등)로 특정 지역에 국한되면 급지 구분 없이 회복률이나 가격 메리트 순으로 나열합니다.
	•	갭투자: 지역 제한이 없다면 급지 1→2→3 순으로 범위를 넓혀가며 유망 단지를 찾습니다. 상급지 내 갭이 작은 (회복률 낮은) 순으로 우선 추천하고, 상급지에 예산에 맞는 매물이 부족하면 차급지에서도 선별합니다. 이때 전세가율이 극단적으로 낮은 단지는 리스트 하위 또는 제외합니다.
	6.	Top N 선정 – 정렬된 리스트에서 상위 N개(기본 3개 내외)를 최종 추천 후보로 선정합니다. 너무 많은 정보를 주지 않기 위해 Top3를 우선 제시하고, 추가 후보는 유료 기능 등으로 제공할 수 있습니다 ￼ ￼.
	7.	추천 결과 출력 – 최종 후보들을 표 형식의 목록으로 정리합니다. 각 후보에는 단지명, 소재지, 주요 정보(전용면적 등), 가격 및 지표 등이 열(column)로 표시됩니다. 또한 AI 에이전트는 각 후보별 한 줄 추천 사유(데이터 기반 특징)를 함께 전달할 수 있습니다 (예: “○○단지 – 역세권 대단지로 현재 시세 저점”). 표 형식 출력을 통해 사용자가 직관적으로 후보들을 비교할 수 있게 합니다.

2.5 실거주용 알고리즘 흐름 요약
	1.	예산 결정: 사용자 보유자금(C)과 연봉으로 DSR 한도 내 예상 대출액(L)을 계산 → 최대 구매가능 금액 = C + L (단, LTV 제한 등 고려하여 조정).
	2.	지역/가격 필터: 선호지역의 아파트 중 매매가 ≤ 예산인 단지 필터링. (예: 예산 8억이면 8억 이하 매물만 남김)
	3.	기타 조건 필터: 희망 평형, 학군 등 추가 조건 충족 여부로 후보 추림. 또한 현재 매물 없는 단지 제외.
	4.	시장지표 계산: 후보들의 소재 구별 회복률 데이터 조회, 단지별 전고점 대비 변동률 계산.
	5.	정렬: (지역 지정시 해당 지역 내에서) 회복률 저→고 순으로 정렬하여 가격 메리트 높은 순 추천. (복수 지역 대상일 경우 급지 높은 지역을 우선 고려하나, 기본적으로 사용자가 지정한 범위 내에서만 추천.)
	6.	Top3 선정: 상위 3개의 단지를 최종 선정. (필요 시 다양성 위해 서로 다른 구에서 선택하거나, 평형대를 분산하는 등 후처리 가능.)
	7.	출력: 추천 아파트 목록을 표로 제시하고, 각 후보의 핵심 정보를 함께 제공. 이후 대화에서 사용자가 특정 후보에 대해 자세히 묻거나 비교할 수 있도록 준비.

2.6 갭투자용 알고리즘 흐름 요약
	1.	예산 결정: 사용자 자금(C) + DSR 기반 대출가능액(L) 계산.
	2.	갭 활용 계산: 각 후보의 갭 = 매매가-전세가를 산출. 갭 ≤ C+L인 단지만 투자 가능 후보로 간주. (필요시 LTV 한도로 추가 필터링: 대출가능액 ≥ 갭인지 확인.)
	3.	지역/가격 필터: (지역 제한 없을 경우 모든 지역에서) 위 조건 통과 단지들 중 매매가, 전세가 정보가 유효한 단지 선택. (전세가율이 너무 낮아 갭이 큰 경우 자동 탈락되므로 겸사필터됨.)
	4.	기타 조건: (투자자의 경우 면적 등 큰 제약은 없으나 특별 선호(예: 신축) 반영 가능) + 매물 없는 단지 제외.
	5.	시장지표 계산: 후보들의 구별 회복률로 급지 분류, 단지별 회복률 계산.
	6.	정렬: 상급지 후보들부터 회복률 낮은(저평가) 순으로 정렬. 예를 들어 1급지에 속한 단지들 중 아직 저평가된 순으로 상위 랭크하고, 다음으로 2급지 단지들 정렬. 전세가율 등 추가 지표도 가미 가능 (예: 동일 조건이면 전세가율 높은 순).
	7.	Top3 선정: 정렬 결과 상위 3개 투자처 선정. (예산 대비 다양한 가격대의 투자를 제안하기 위해 급지가 다른 곳을 섞을 수도 있음.)
	8.	출력: 추천 투자 단지 리스트를 표로 표시. 매매가, 전세가, 갭, 회복률 등을 한눈에 볼 수 있게 제공하며, 필요하면 각 후보의 예상 임대수익률이나 향후 전망 등을 한두 줄로 덧붙입니다.

2.7 추천 결과 테이블 구성 및 예시

추천 결과는 사용자에게 표(table) 형태로 제시하여, 후보 단지들을 쉽게 비교할 수 있도록 합니다. 아래는 실거주용과 갭투자용 각각에 대한 추천 리스트 예시입니다 (데이터는 설명을 위한 가상 예시이나, 서울 아파트 시세 자료에 근거한 현실적인 값입니다).

실거주 맞춤 추천 아파트 (예시) – 조건: 예산 약 8억 원, 서울 전체, 30평대 선호

순위	아파트 단지명 (전용㎡)	소재지(구)	매매가(억 원)	전고점 대비 회복률(%)	비고
1	벽산1단지 (84㎡)	금천구	5.1	79% (−21%)	대단지, 저평가
2	정릉풍림아이원 (114㎡)	성북구	7.0	74% (−26%)	넓은 평형 대비 저가
3	관악푸르지오 (59㎡)	관악구	8.0	85% (−15%)	역세권 인기지역

분석: 1순위 금천구 벽산1단지는 84㎡ 대단지 아파트로 현재 시세 약 5.1억 원으로 매우 저렴하며, 직전 고점 대비 20% 이상 낮아 가격 메리트가 큽니다. 2순위 성북구 정릉풍림아이원은 114㎡의 넓은 면적에도 7억 원대로, 평당 가격이 저렴하고 고점 대비 26% 하락되어 저평가된 단지입니다. 3순위 관악구 관악푸르지오는 인기 지역인 관악구에 위치하여 수요가 높지만 8억 원 정도의 매매가로, 1급지 대비 비교적 합리적인 가격입니다. 세 단지 모두 예산 범위 내이며 실거주 선호 조건을 만족합니다.

갭투자 추천 아파트 (예시) – 조건: 자기자본 3억 원, 연봉 8천만 원 (대출여력 약 2억, 총갭 커버 가능 ~5억)

순위	아파트 단지명 (전용㎡)	소재지(구)	매매가	전세가	갭 (억 원)	회복률(%)
1	벽산1단지 (84㎡)	금천구	5.1억	3.6억	1.5	79% (↓21)
2	등촌아이파크 (84㎡)	강서구	9.6억	6.3억	3.3	74% (↓26)
3	한신·한진 (152㎡)	성북구	9.15억	6.0억	3.15	70% (↓30)

분석: 1순위 금천구 벽산1단지는 전세가 3.6억으로 **전세가율 약 71%**에 달해 갭이 1.5억에 불과합니다. 투자자는 자기자본만으로도 매입 가능하며, 해당 단지가 아직 고점 대비 20% 이상 낮아 향후 상승 여력이 기대됩니다. 2순위 강서구 등촌아이파크는 서울 서부 인기 주거지인 강서구에 위치, 전세가율 약 66%로 갭 3.3억입니다. 보유자금 3억에 약간 못 미치나 부족분 3천만 원은 대출로 충당 가능하고, 단지가 고점 대비 25% 낮아 비교적 저평가된 1급지급 지역입니다. 3순위 성북구 한신·한진는 대형 평형 (152㎡) 아파트로 전세가율 66%, 갭 3.15억 수준입니다. 넓은 면적 대비 가격이 저렴하고 회복률 70%로 매우 저평가되어 있지만, 위치한 성북구가 다소 중급지인 점을 감안하여 3순위로 제시했습니다. 세 후보 모두 투자 금액 범위 내이며, 전세를 유지한다는 가정 하에 임대인으로서 안정적인 수익을 기대할 수 있는 물건들입니다.

테이블 설명: 위 표에서 매매가/전세가는 현재 시세를 억 원 단위로 나타냈으며, 갭은 투자자가 실제로 투입해야 할 자본 규모를 의미합니다. 회복률은 각 단지의 현재 시세가 직전 호황기 고점 대비 어느 정도인지 보여주며, 100% 미만인 경우 괄호 안에 하락률(↓)을 병기했습니다. 투자 관점에서는 이 하락률이 높을수록 해당 자산이 저점 매수에 가깝다는 신호가 됩니다.

2.8 추가 고려사항 및 마무리

추천 알고리즘은 위의 정량적 지표 외에도, 사용자 맞춤형 미세 조정이 가능하도록 설계됩니다. 예를 들어 사용자 프로필상 자녀가 있을 경우 학군지 가중치를 높인다든지, 직장이 있는 지역과의 거리를 계산해 점수를 부여하는 등 확장 가능합니다. 현재 MVP 단계에서는 제공된 크롤링 데이터(가격, 평형 등) 중심으로 추천하지만, 차후 실시간 시장 동향이나 부동산 리뷰 등을 반영하여 더욱 고도화할 계획입니다. 최종 추천 단지에 대해서는 앞서 PRD에서 정의된 것처럼 추가적인 정성 정보(단지 장점, 주변 개발호재 등)를 Vector DB에서 검색하여 “추천 이유”로 제공함으로써, 사용자에게 단순한 숫자 이상의 통찰을 주도록 합니다 ￼.

以上의 알고리즘을 통해 집사냥 AI 에이전트는 사용자의 재정 여건과 목적에 꼭 맞는 아파트를 선별하고, 복잡한 대출 계획까지 통합적으로 고려한 맞춤형 추천을 수행할 수 있습니다. 이는 정보의 비대칭성과 의사결정 부담을 덜어주어, 사용자들이 보다 현명하고 자신 있게 내 집 마련 및 부동산 투자를 할 수 있도록 돕는 핵심 엔진이 될 것입니다.